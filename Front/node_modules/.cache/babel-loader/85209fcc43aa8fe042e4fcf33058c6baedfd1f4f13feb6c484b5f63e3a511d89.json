{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Iman\\\\Downloads\\\\Reposetories\\\\Aiport-Backend-WebDev-HW2-3\\\\Front\\\\src\\\\pages\\\\Tickets.jsx\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport { useParams } from \"react-router-dom\";\nimport useGetAvailableTickets from \"../hooks/userGetAvailableTickets\";\nimport Page from \"../components/general/Page\";\nimport SearchInfo from \"../components/SearchInfo\";\nimport { Typography, Container } from \"@mui/material\";\nimport TicketView from \"../components/TicketView\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction Tickets() {\n  _s();\n  const param = useParams();\n  const org_dst = param.origin_destination;\n  const [org, dst] = org_dst.split('_');\n  const searchParams = new URLSearchParams(window.location.search);\n  const departureDate = searchParams.get('departureDate');\n  const returnDate = searchParams.get('returnDate');\n\n  // if departureDate is not set, set it to today\n  if (!departureDate) {\n    const today = new Date();\n    const dd = String(today.getDate()).padStart(2, '0');\n    const mm = String(today.getMonth() + 1).padStart(2, '0'); //January is 0!\n    const yyyy = today.getFullYear();\n    const todayString = yyyy + '-' + mm + '-' + dd;\n    window.location.search = `?departureDate=${todayString}`;\n  }\n  const {\n    availableTickets,\n    availableTicketsStatus\n  } = useGetAvailableTickets({\n    origin: org,\n    destination: dst,\n    departureDate,\n    returnDate\n  });\n  return /*#__PURE__*/_jsxDEV(Page, {\n    children: [/*#__PURE__*/_jsxDEV(SearchInfo, {\n      departureDate: departureDate,\n      returnDate: returnDate,\n      destination: dst,\n      origin: org\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        height: '100vh'\n      },\n      children: [availableTicketsStatus === 'success' && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(Container, {\n          children: /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h6\",\n            color: \"primary\",\n            sx: {\n              margin: '10px 0 10px 0',\n              textAlign: 'initial'\n            },\n            children: returnDate ? 'پروازهای رفت' : 'پروازهای موجود'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 40,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 25\n        }, this), availableTickets['data']['flight'].map((ticket, index) => {\n          return /*#__PURE__*/_jsxDEV(TicketView, {\n            flightInfo: ticket\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 40\n          }, this);\n        })]\n      }, void 0, true), availableTicketsStatus === 'success' && returnDate && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(Container, {\n          children: /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h5\",\n            color: \"primary\",\n            sx: {\n              margin: '10px 0 10px 0',\n              textAlign: 'initial'\n            },\n            children: \"\\u067E\\u0631\\u0648\\u0627\\u0632\\u0647\\u0627\\u06CC \\u0628\\u0631\\u06AF\\u0634\\u062A\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 25\n        }, this), availableTickets['data']['returnFlight'].map((ticket, index) => {\n          return /*#__PURE__*/_jsxDEV(TicketView, {\n            flightInfo: ticket\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 40\n          }, this);\n        })]\n      }, void 0, true)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 9\n  }, this);\n}\n_s(Tickets, \"ku9fXh6UvlvQeVlei6Dko9XJ0BM=\", false, function () {\n  return [useParams, useGetAvailableTickets];\n});\n_c = Tickets;\nexport default Tickets;\nvar _c;\n$RefreshReg$(_c, \"Tickets\");","map":{"version":3,"names":["React","useParams","useGetAvailableTickets","Page","SearchInfo","Typography","Container","TicketView","jsxDEV","_jsxDEV","Fragment","_Fragment","Tickets","_s","param","org_dst","origin_destination","org","dst","split","searchParams","URLSearchParams","window","location","search","departureDate","get","returnDate","today","Date","dd","String","getDate","padStart","mm","getMonth","yyyy","getFullYear","todayString","availableTickets","availableTicketsStatus","origin","destination","children","fileName","_jsxFileName","lineNumber","columnNumber","style","height","variant","color","sx","margin","textAlign","map","ticket","index","flightInfo","_c","$RefreshReg$"],"sources":["C:/Users/Iman/Downloads/Reposetories/Aiport-Backend-WebDev-HW2-3/Front/src/pages/Tickets.jsx"],"sourcesContent":["import React from 'react';\r\nimport {useParams} from \"react-router-dom\";\r\nimport useGetAvailableTickets from \"../hooks/userGetAvailableTickets\";\r\nimport Page from \"../components/general/Page\";\r\nimport SearchInfo from \"../components/SearchInfo\";\r\nimport {Typography, Container} from \"@mui/material\";\r\nimport TicketView from \"../components/TicketView\";\r\n\r\nfunction Tickets() {\r\n    const param = useParams();\r\n    const org_dst = param.origin_destination;\r\n    const [org, dst] = org_dst.split('_');\r\n\r\n    const searchParams = new URLSearchParams(window.location.search);\r\n    const departureDate = searchParams.get('departureDate');\r\n    const returnDate = searchParams.get('returnDate');\r\n\r\n    // if departureDate is not set, set it to today\r\n    if (!departureDate) {\r\n        const today = new Date();\r\n        const dd = String(today.getDate()).padStart(2, '0');\r\n        const mm = String(today.getMonth() + 1).padStart(2, '0'); //January is 0!\r\n        const yyyy = today.getFullYear();\r\n        const todayString = yyyy + '-' + mm + '-' + dd;\r\n        window.location.search = `?departureDate=${todayString}`;\r\n    }\r\n\r\n    const {availableTickets, availableTicketsStatus} = useGetAvailableTickets({\r\n            origin: org, destination: dst, departureDate, returnDate\r\n        }\r\n    );\r\n\r\n    return (\r\n        <Page>\r\n            <SearchInfo departureDate={departureDate} returnDate={returnDate} destination={dst} origin={org}/>\r\n            <div style={{height: '100vh'}}>\r\n                {availableTicketsStatus === 'success' &&\r\n                    <>\r\n                        <Container>\r\n                            <Typography\r\n                                variant='h6'\r\n                                color='primary'\r\n                                sx={{margin: '10px 0 10px 0', textAlign:'initial'}}\r\n                            >\r\n                                {\r\n                                    returnDate ?\r\n                                        'پروازهای رفت'\r\n                                        : 'پروازهای موجود'\r\n                                }\r\n\r\n                            </Typography>\r\n\r\n                        </Container>\r\n                        {\r\n                            availableTickets['data']['flight'].map((ticket, index) => {\r\n                                return <TicketView key={index} flightInfo={ticket}/>\r\n                            })\r\n                        }\r\n                    </>\r\n                }\r\n                {availableTicketsStatus === 'success' && returnDate &&\r\n                    <>\r\n                        <Container>\r\n                            <Typography\r\n                                variant='h5'\r\n                                color='primary'\r\n                                sx={{margin: '10px 0 10px 0', textAlign:'initial'}}\r\n                            >\r\n                                پروازهای برگشت\r\n                            </Typography>\r\n\r\n\r\n                        </Container>\r\n                        {\r\n                            availableTickets['data']['returnFlight'].map((ticket, index) => {\r\n                                return <TicketView key={index} flightInfo={ticket}/>\r\n                            })}\r\n                    </>\r\n                }\r\n\r\n\r\n            </div>\r\n        </Page>\r\n    );\r\n}\r\n\r\nexport default Tickets;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}